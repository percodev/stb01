Прикладной протокол обмена поверх WebSockets (RFC 6455). Контроллер подключается по ip-адресу сервера системы, заданному при конфигурации. Возможно использование защищеного канала WSS (WebSockets over SSL/TLS).

Протокол использует формат обмена данных JSON (RFC 7159)

Далее по тексту, под сервером понимается некий "сервер системы" - ПО верхнего уровня. До тех пор, пока контроллеру не будет задан IP-адрес этого сервера, подключение инициировать должен сам сервер (либо работа через WEB-браузер (с поддержкой WebSockets)). После задания IP-адреса сервера (либо через браузер, либо непосредственно самим сервером), контроллер будет подключаться к серверу сам.

При подключении к контроллеру в поле target запроса необходимо добавить '/tcp' (пример формирования сокета на JS 'ws://10.1.89.181:80/tcp'). Установка соединения по HTTP (для HTTPS аналогично) будет выглядеть так:

GET /tcp HTTP/1.1
Host: 10.0.150.136
Origin: 10.0.150.136
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Key: 0M//4Wm9N3ngPpr7q6O3FQ==
Sec-WebSocket-Version: 13
Sec-WebSocket-Extensions: permessage-deflate; client_max_window_bits
User-Agent: Python/3.10 websockets/10.3

HTTP/1.1 101 Switching Protocols
Upgrade: websocket
Sec-WebSocket-Accept: gt5pkLN0d02eA+OSekZqAZvRrFc=
Connection: upgrade
Date: Tue, 09 Jul 2024 12:45:32 GMT
Server: lighttpd/1.4.69

